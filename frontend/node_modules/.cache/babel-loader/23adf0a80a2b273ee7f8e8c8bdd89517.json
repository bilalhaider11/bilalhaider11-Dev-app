{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var auth=_ref.auth,addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsx(\"p\",{className:\"post-date\",children:/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsxs(\"span\",{children:[\" \",likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion \",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/home/aht/Desktop/MERN/client/src/components/posts/PostItem.js"],"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport {connect} from 'react-redux';\n\nimport {addLike, removeLike, deletePost} from '../../actions/post';\n\nconst PostItem = ({\n    auth, \n    addLike, \n    removeLike, \n    deletePost,\n    post: {_id, text, name, avatar, user, likes, comments, date},\n    showActions\n}) => <div className=\"post bg-white p-1 my-1\">\n            <div>\n                <Link to={`/profile/${user}`}>\n                    <img\n                    className=\"round-img\"\n                    src={avatar}\n                    alt=\"\"\n                    />\n                    <h4>{name}</h4>\n                </Link>\n            </div>\n            <div>\n                <p className=\"my-1\">\n                    {text}\n                </p>\n                <p className=\"post-date\">\n                    <Moment format=\"YYYY/MM/DD\">{date}</Moment>\n                </p>\n                {showActions && <Fragment>\n                    <button \n                        onClick={e => addLike(_id)} \n                        type=\"button\" \n                        className=\"btn btn-light\"\n                    >\n                        <i className=\"fas fa-thumbs-up\" />{' '}\n                        <span> {likes.length > 0 && (\n                            <span>{likes.length}</span>\n                        )} </span>\n                    </button>\n                    <button \n                        onClick={e => removeLike(_id)} \n                        type=\"button\" \n                        className=\"btn btn-light\"\n                    >\n                        <i className=\"fas fa-thumbs-down\"></i>\n                    </button>\n                    <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n                        Discussion {' '}\n                        {comments.length > 0 && (\n                            <span className='comment-count'>{comments.length}</span>\n                        )} \n                    </Link>\n                    {!auth.loading && user === auth.user._id && (\n                        <button  \n                            onClick={e => deletePost(_id)}    \n                            type=\"button\"\n                            className=\"btn btn-danger\"\n                        >\n                            <i className=\"fas fa-times\"></i>\n                        </button>\n                    )}\n                </Fragment>}\n            </div>\n        </div>\n\nPostItem.defaultProps = {\n    showActions: true\n};\n\nPostItem.propTypes = {\n    post: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired,\n    deletePost: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps, {addLike, removeLike, deletePost})(PostItem);\n"]},"metadata":{},"sourceType":"module"}